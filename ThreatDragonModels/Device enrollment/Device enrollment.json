{
  "summary": {
    "title": "Device enrollment",
    "owner": "SCS Taskforce"
  },
  "detail": {
    "contributors": [],
    "diagrams": [
      {
        "title": "Device Enrollment diagram",
        "thumbnail": "./public/content/images/thumbnail.stride.jpg",
        "diagramType": "STRIDE",
        "id": 0,
        "diagramJson": {
          "cells": [
            {
              "type": "tm.Actor",
              "size": {
                "width": 160,
                "height": 80
              },
              "position": {
                "x": 43,
                "y": 160
              },
              "angle": 0,
              "id": "321fe06b-f5a4-4bc5-bcc9-79f1b2b49fce",
              "z": 1,
              "hasOpenThreats": false,
              "attrs": {
                ".element-shape": {
                  "class": "element-shape hasNoOpenThreats isInScope"
                },
                "text": {
                  "text": "Frontend"
                },
                ".element-text": {
                  "class": "element-text hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Process",
              "size": {
                "width": 100,
                "height": 100
              },
              "position": {
                "x": 344,
                "y": 279
              },
              "angle": 0,
              "id": "dc98bf98-573a-430b-b9bd-fe7afbb9230d",
              "z": 2,
              "hasOpenThreats": false,
              "attrs": {
                ".element-shape": {
                  "class": "element-shape hasNoOpenThreats isInScope"
                },
                "text": {
                  "text": "BFF"
                },
                ".element-text": {
                  "class": "element-text hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Process",
              "size": {
                "width": 100,
                "height": 100
              },
              "position": {
                "x": 470,
                "y": 362
              },
              "angle": 0,
              "id": "f2d3a413-a092-4fcc-837f-a17551594d29",
              "z": 3,
              "hasOpenThreats": false,
              "attrs": {
                ".element-shape": {
                  "class": "element-shape hasNoOpenThreats isInScope"
                },
                "text": {
                  "text": "Core"
                },
                ".element-text": {
                  "class": "element-text hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Process",
              "size": {
                "width": 100,
                "height": 100
              },
              "position": {
                "x": 607,
                "y": 271
              },
              "angle": 0,
              "id": "913bffd7-b68d-4f00-b991-6b4ddb3dad3c",
              "z": 4,
              "hasOpenThreats": false,
              "attrs": {
                ".element-shape": {
                  "class": "element-shape hasNoOpenThreats isInScope"
                },
                "text": {
                  "text": "T3"
                },
                ".element-text": {
                  "class": "element-text hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Store",
              "size": {
                "width": 160,
                "height": 80
              },
              "position": {
                "x": 255,
                "y": 1
              },
              "angle": 0,
              "id": "fc27543c-c389-4b5e-86fe-4b1299fd9872",
              "z": 5,
              "hasOpenThreats": false,
              "attrs": {
                ".element-shape": {
                  "class": "element-shape hasNoOpenThreats isInScope"
                },
                "text": {
                  "text": "MSSQL"
                },
                ".element-text": {
                  "class": "element-text hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Store",
              "size": {
                "width": 160,
                "height": 80
              },
              "position": {
                "x": 451,
                "y": 1
              },
              "angle": 0,
              "id": "9b13447e-4f4b-441a-bd23-615a329aeee1",
              "z": 6,
              "hasOpenThreats": false,
              "attrs": {
                ".element-shape": {
                  "class": "element-shape hasNoOpenThreats isInScope"
                },
                "text": {
                  "text": "Azurite Vault"
                },
                ".element-text": {
                  "class": "element-text hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Store",
              "size": {
                "width": 160,
                "height": 80
              },
              "position": {
                "x": 650,
                "y": 1
              },
              "angle": 0,
              "id": "da6d6e56-4414-4662-b884-57198b3c551a",
              "z": 7,
              "hasOpenThreats": false,
              "attrs": {
                ".element-shape": {
                  "class": "element-shape hasNoOpenThreats isInScope"
                },
                "text": {
                  "text": "GCS (Mocked)"
                },
                ".element-text": {
                  "class": "element-text hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Process",
              "size": {
                "width": 100,
                "height": 100
              },
              "position": {
                "x": 924,
                "y": 185
              },
              "angle": 0,
              "id": "26cf1dfd-c0ab-4ae0-9af8-4aab065432e0",
              "z": 8,
              "hasOpenThreats": false,
              "attrs": {
                ".element-shape": {
                  "class": "element-shape hasNoOpenThreats isInScope"
                },
                "text": {
                  "text": "EVP"
                },
                ".element-text": {
                  "class": "element-text hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Store",
              "size": {
                "width": 160,
                "height": 80
              },
              "position": {
                "x": 439,
                "y": 476
              },
              "angle": 0,
              "id": "b906cda4-1916-44b6-a988-0f240911138f",
              "z": 9,
              "hasOpenThreats": false,
              "attrs": {
                ".element-shape": {
                  "class": "element-shape hasNoOpenThreats isInScope"
                },
                "text": {
                  "text": "Storage"
                },
                ".element-text": {
                  "class": "element-text hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Flow",
              "size": {
                "width": 10,
                "height": 10
              },
              "smooth": true,
              "source": {
                "id": "321fe06b-f5a4-4bc5-bcc9-79f1b2b49fce"
              },
              "target": {
                "id": "dc98bf98-573a-430b-b9bd-fe7afbb9230d"
              },
              "vertices": [],
              "id": "e0afa367-ff0e-430d-ba95-c405b725b4a8",
              "labels": [
                {
                  "position": 0.5,
                  "attrs": {
                    "text": {
                      "text": "1. POST /api/devices",
                      "font-weight": "400",
                      "font-size": "small"
                    }
                  }
                }
              ],
              "z": 10,
              "hasOpenThreats": false,
              "attrs": {
                ".marker-target": {
                  "class": "marker-target hasNoOpenThreats isInScope"
                },
                ".connection": {
                  "class": "connection hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Flow",
              "size": {
                "width": 10,
                "height": 10
              },
              "smooth": true,
              "source": {
                "id": "dc98bf98-573a-430b-b9bd-fe7afbb9230d"
              },
              "target": {
                "id": "fc27543c-c389-4b5e-86fe-4b1299fd9872"
              },
              "vertices": [
                {
                  "x": 311,
                  "y": 208
                },
                {
                  "x": 291,
                  "y": 161
                }
              ],
              "id": "375b7205-66fa-4f0e-b467-1fe3fc36fff8",
              "labels": [
                {
                  "position": 0.5,
                  "attrs": {
                    "text": {
                      "text": "2. Obtain app config",
                      "font-weight": "400",
                      "font-size": "small"
                    }
                  }
                }
              ],
              "z": 11,
              "hasOpenThreats": false,
              "attrs": {
                ".marker-target": {
                  "class": "marker-target hasNoOpenThreats isInScope"
                },
                ".connection": {
                  "class": "connection hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Flow",
              "size": {
                "width": 10,
                "height": 10
              },
              "smooth": true,
              "source": {
                "id": "dc98bf98-573a-430b-b9bd-fe7afbb9230d"
              },
              "target": {
                "id": "9b13447e-4f4b-441a-bd23-615a329aeee1"
              },
              "vertices": [],
              "id": "8f21d83f-6bc6-4d31-bc75-411d200ed99a",
              "labels": [
                {
                  "position": {
                    "distance": 0.7660915747872966,
                    "offset": -21.344875701595626
                  },
                  "attrs": {
                    "text": {
                      "text": "3. Obtain app secrets",
                      "font-weight": "400",
                      "font-size": "small"
                    }
                  }
                }
              ],
              "z": 12,
              "hasOpenThreats": false,
              "attrs": {
                ".marker-target": {
                  "class": "marker-target hasNoOpenThreats isInScope"
                },
                ".connection": {
                  "class": "connection hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Flow",
              "size": {
                "width": 10,
                "height": 10
              },
              "smooth": true,
              "source": {
                "id": "dc98bf98-573a-430b-b9bd-fe7afbb9230d"
              },
              "target": {
                "id": "da6d6e56-4414-4662-b884-57198b3c551a"
              },
              "vertices": [],
              "id": "9d162360-5a58-49ef-8c9e-3191190ecd00",
              "labels": [
                {
                  "position": {
                    "distance": 0.7568506819713494,
                    "offset": 13.049324512060023
                  },
                  "attrs": {
                    "text": {
                      "text": "4. Obtain auth\ninformation",
                      "font-weight": "400",
                      "font-size": "small"
                    }
                  }
                }
              ],
              "z": 13,
              "hasOpenThreats": false,
              "attrs": {
                ".marker-target": {
                  "class": "marker-target hasNoOpenThreats isInScope"
                },
                ".connection": {
                  "class": "connection hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Flow",
              "size": {
                "width": 10,
                "height": 10
              },
              "smooth": true,
              "source": {
                "id": "dc98bf98-573a-430b-b9bd-fe7afbb9230d"
              },
              "target": {
                "id": "913bffd7-b68d-4f00-b991-6b4ddb3dad3c"
              },
              "vertices": [],
              "id": "a8032ce7-4c47-46ee-ba0b-2b25bb1d4a27",
              "labels": [
                {
                  "position": 0.5,
                  "attrs": {
                    "text": {
                      "text": "5. Forward request",
                      "font-weight": "400",
                      "font-size": "small"
                    }
                  }
                }
              ],
              "z": 14,
              "hasOpenThreats": false,
              "attrs": {
                ".marker-target": {
                  "class": "marker-target hasNoOpenThreats isInScope"
                },
                ".connection": {
                  "class": "connection hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Flow",
              "size": {
                "width": 10,
                "height": 10
              },
              "smooth": true,
              "source": {
                "id": "913bffd7-b68d-4f00-b991-6b4ddb3dad3c"
              },
              "target": {
                "id": "fc27543c-c389-4b5e-86fe-4b1299fd9872"
              },
              "vertices": [
                {
                  "x": 373,
                  "y": 232
                }
              ],
              "id": "d6b4c1e3-82a7-43b8-8293-1d44f1135820",
              "labels": [
                {
                  "position": {
                    "distance": 0.8041516727941175,
                    "offset": 5.479418221903711
                  },
                  "attrs": {
                    "text": {
                      "text": "6. Obtain app config",
                      "font-weight": "400",
                      "font-size": "small"
                    }
                  }
                }
              ],
              "z": 15,
              "hasOpenThreats": false,
              "attrs": {
                ".marker-target": {
                  "class": "marker-target hasNoOpenThreats isInScope"
                },
                ".connection": {
                  "class": "connection hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Flow",
              "size": {
                "width": 10,
                "height": 10
              },
              "smooth": true,
              "source": {
                "id": "913bffd7-b68d-4f00-b991-6b4ddb3dad3c"
              },
              "target": {
                "id": "9b13447e-4f4b-441a-bd23-615a329aeee1"
              },
              "vertices": [
                {
                  "x": 527,
                  "y": 219
                }
              ],
              "id": "a11a4957-0577-4434-8d8d-a7f21e0d1627",
              "labels": [
                {
                  "position": {
                    "distance": 0.7046228062367872,
                    "offset": -27.904851126258503
                  },
                  "attrs": {
                    "text": {
                      "text": "7. Obtain app secrets",
                      "font-weight": "400",
                      "font-size": "small"
                    }
                  }
                }
              ],
              "z": 16,
              "hasOpenThreats": false,
              "attrs": {
                ".marker-target": {
                  "class": "marker-target hasNoOpenThreats isInScope"
                },
                ".connection": {
                  "class": "connection hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Flow",
              "size": {
                "width": 10,
                "height": 10
              },
              "smooth": true,
              "source": {
                "id": "913bffd7-b68d-4f00-b991-6b4ddb3dad3c"
              },
              "target": {
                "id": "fc27543c-c389-4b5e-86fe-4b1299fd9872"
              },
              "vertices": [
                {
                  "x": 514,
                  "y": 261
                },
                {
                  "x": 402,
                  "y": 208
                }
              ],
              "id": "63132732-d0fd-4fee-ba3c-a6de0fb9967b",
              "labels": [
                {
                  "position": 0.5,
                  "attrs": {
                    "text": {
                      "text": "8. Get existing\ninformation",
                      "font-weight": "400",
                      "font-size": "small"
                    }
                  }
                }
              ],
              "z": 17,
              "hasOpenThreats": false,
              "attrs": {
                ".marker-target": {
                  "class": "marker-target hasNoOpenThreats isInScope"
                },
                ".connection": {
                  "class": "connection hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Flow",
              "size": {
                "width": 10,
                "height": 10
              },
              "smooth": true,
              "source": {
                "id": "913bffd7-b68d-4f00-b991-6b4ddb3dad3c"
              },
              "target": {
                "id": "26cf1dfd-c0ab-4ae0-9af8-4aab065432e0"
              },
              "vertices": [
                {
                  "x": 798,
                  "y": 198
                }
              ],
              "id": "4f9b8d2d-36e3-4793-8c36-40f545d00d39",
              "labels": [
                {
                  "position": {
                    "distance": 0.5362915892162304,
                    "offset": 1.0578762514691455
                  },
                  "attrs": {
                    "text": {
                      "text": "9. Create device",
                      "font-weight": "400",
                      "font-size": "small"
                    }
                  }
                }
              ],
              "z": 18,
              "hasOpenThreats": false,
              "attrs": {
                ".marker-target": {
                  "class": "marker-target hasNoOpenThreats isInScope"
                },
                ".connection": {
                  "class": "connection hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Flow",
              "size": {
                "width": 10,
                "height": 10
              },
              "smooth": true,
              "source": {
                "id": "913bffd7-b68d-4f00-b991-6b4ddb3dad3c"
              },
              "target": {
                "id": "26cf1dfd-c0ab-4ae0-9af8-4aab065432e0"
              },
              "vertices": [
                {
                  "x": 805,
                  "y": 246
                }
              ],
              "id": "a2d75f66-0b4f-434f-9fa3-ca8866bc78c0",
              "labels": [
                {
                  "position": 0.5,
                  "attrs": {
                    "text": {
                      "text": "10. Set event hub",
                      "font-weight": "400",
                      "font-size": "small"
                    }
                  }
                }
              ],
              "z": 19,
              "hasOpenThreats": false,
              "attrs": {
                ".marker-target": {
                  "class": "marker-target hasNoOpenThreats isInScope"
                },
                ".connection": {
                  "class": "connection hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Flow",
              "size": {
                "width": 10,
                "height": 10
              },
              "smooth": true,
              "source": {
                "id": "913bffd7-b68d-4f00-b991-6b4ddb3dad3c"
              },
              "target": {
                "id": "26cf1dfd-c0ab-4ae0-9af8-4aab065432e0"
              },
              "vertices": [
                {
                  "x": 829,
                  "y": 301
                }
              ],
              "id": "8f7466ad-469b-47a4-b29a-2ee101dcb1ca",
              "labels": [
                {
                  "position": 0.5,
                  "attrs": {
                    "text": {
                      "text": "11. Set device\ncertificate",
                      "font-weight": "400",
                      "font-size": "small"
                    }
                  }
                }
              ],
              "z": 20,
              "hasOpenThreats": false,
              "attrs": {
                ".marker-target": {
                  "class": "marker-target hasNoOpenThreats isInScope"
                },
                ".connection": {
                  "class": "connection hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Flow",
              "size": {
                "width": 10,
                "height": 10
              },
              "smooth": true,
              "source": {
                "id": "913bffd7-b68d-4f00-b991-6b4ddb3dad3c"
              },
              "target": {
                "id": "26cf1dfd-c0ab-4ae0-9af8-4aab065432e0"
              },
              "vertices": [
                {
                  "x": 838,
                  "y": 362
                }
              ],
              "id": "5b2be980-9347-4bbd-8600-cfdef0dfcdb6",
              "labels": [
                {
                  "position": 0.5,
                  "attrs": {
                    "text": {
                      "text": "[OPT] Delete device\non error",
                      "font-weight": "400",
                      "font-size": "small"
                    }
                  }
                }
              ],
              "z": 21,
              "hasOpenThreats": false,
              "attrs": {
                ".marker-target": {
                  "class": "marker-target hasNoOpenThreats isInScope"
                },
                ".connection": {
                  "class": "connection hasNoOpenThreats isInScope"
                }
              }
            },
            {
              "type": "tm.Flow",
              "size": {
                "width": 10,
                "height": 10
              },
              "smooth": true,
              "source": {
                "id": "913bffd7-b68d-4f00-b991-6b4ddb3dad3c"
              },
              "target": {
                "id": "fc27543c-c389-4b5e-86fe-4b1299fd9872"
              },
              "vertices": [
                {
                  "x": 431,
                  "y": 189
                }
              ],
              "id": "35605bf4-001e-4e3c-9948-f7ae96ba4af7",
              "labels": [
                {
                  "position": {
                    "distance": 0.5954693070953623,
                    "offset": 3.092097108878648
                  },
                  "attrs": {
                    "text": {
                      "text": "12. Register device in\nDDBB",
                      "font-weight": "400",
                      "font-size": "small"
                    }
                  }
                }
              ],
              "z": 22,
              "hasOpenThreats": false,
              "attrs": {
                ".marker-target": {
                  "class": "marker-target hasNoOpenThreats isInScope"
                },
                ".connection": {
                  "class": "connection hasNoOpenThreats isInScope"
                }
              }
            }
          ]
        },
        "size": {
          "height": 1234,
          "width": 1081
        }
      }
    ]
  }
}